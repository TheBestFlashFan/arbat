mp.onButtonEvent(mp.MultiplayerButton.Right, ControllerButtonEvent.Pressed, function (player2) {
    mp.getPlayerSprite(player2).setImage(img`
        ........cc........
        .......c99c.......
        .......c999c......
        .......c9999c.....
        ........c9999c....
        .........99999c...
        ..cccccccc99999c..
        .999999999999999c.
        99999999999999999c
        c9999999999999999c
        .c99999999999999c.
        ..cccc9999c99999..
        .........c9999c...
        ........c9999c....
        .......c9999c.....
        .......c999c......
        .......c99c.......
        ........cc........
        `)
    if (arrow.image.equals(img`
        ........cc........
        .......c99c.......
        .......c999c......
        .......c9999c.....
        ........c9999c....
        .........99999c...
        ..cccccccc99999c..
        .999999999999999c.
        99999999999999999c
        c9999999999999999c
        .c99999999999999c.
        ..cccc9999c99999..
        .........c9999c...
        ........c9999c....
        .......c9999c.....
        .......c999c......
        .......c99c.......
        ........cc........
        `)) {
        mp.changePlayerStateBy(player2, MultiplayerState.score, 1)
    }
})
mp.onButtonEvent(mp.MultiplayerButton.Down, ControllerButtonEvent.Pressed, function (player2) {
    mp.getPlayerSprite(player2).setImage(assets.image`3`)
    if (arrow.image.equals(assets.image`3`)) {
        mp.changePlayerStateBy(player2, MultiplayerState.score, 1)
    }
})
mp.onButtonEvent(mp.MultiplayerButton.Left, ControllerButtonEvent.Pressed, function (player2) {
    mp.getPlayerSprite(player2).setImage(assets.image`1`)
    if (arrow.image.equals(assets.image`1`)) {
        mp.changePlayerStateBy(player2, MultiplayerState.score, 1)
    }
})
mp.onButtonEvent(mp.MultiplayerButton.Up, ControllerButtonEvent.Pressed, function (player2) {
    mp.getPlayerSprite(player2).setImage(assets.image`0`)
    if (arrow.image.equals(assets.image`0`)) {
        mp.changePlayerStateBy(player2, MultiplayerState.score, 1)
    }
})
let arrow: Sprite = null
let arrow_list: Image[] = []
scene.setBackgroundImage(assets.image`skibidi-_-`)
bundles.wrap1(function () {
    mp.setPlayerSprite(mp.playerSelector(mp.PlayerNumber.One), sprites.create(img`
        .............beebbbb............
        ............eebbbb4bb...........
        ............eb344bb4bb..........
        ............e44334bb4bb.........
        ............eb433344b4be........
        ............4eb43344444be.......
        ...........bd4eb43333344bb......
        ..........b455d4443333444bb.....
        ..........4d5555d444333444bb....
        .........4555555dd4b4443444be...
        ........bd5555d555d4bb444444ee..
        ........b55ddd665555bb4b44444ee.
        .......bd5555677655554ebb44444eb
        .......43222558855555d4eeb44b4ee
        ......b422332ddd555222d4eebbb4be
        ......be22232ed55522332db4ebbbbe
        .....bde22222e555e22232edd4bbbbe
        .....b52e222e3555e22222eddd4ebee
        ....bd552eee355552e222e355544eee
        ....665dd555fffff52eee355dd4deee
        ...677655555ff5ff55555551554d4ee
        ...488522255ffdff6655551544d4eee
        ..b455223325fffff77611d444ddeee.
        ..4d5222232e55555881d44ddd4eee..
        .bdd5e22222e555115114d54d4ee....
        .b55d2e222e351144d1d55eeee......
        bd5ddd2eee3d444555dd4e..........
        b555115dddd55d544eede...........
        4511d444d5544ee...4de...........
        41d4555d4ee........44...........
        41554eede.......................
        44ee...4e.......................
        `, SpriteKind.Player))
    mp.getPlayerSprite(mp.playerSelector(mp.PlayerNumber.One)).setPosition(40, 90)
})
bundles.wrap2(function () {
    mp.setPlayerSprite(mp.playerSelector(mp.PlayerNumber.Two), sprites.create(img`
        ..............eeeeeee...........
        ............ee455662e2e.........
        ..........ee45556723e2688.......
        .........e46776677232e777668....
        ........e46745554772227776778...
        .......4448744444777766777678...
        ......4522e7777776777766676668..
        .....4523227766722e666eeeee888..
        ....455232e76672322e4555dddd48..
        ...44567777554623e455ddddddddd4.
        ...e66774554477e455dddd55554dd44
        ..e46777444677e55dd55115d55dddd4
        ..e5668677666e5dd555511111555dde
        .e45544e8776e5d555551155555555de
        .e554eeee66e5d5555d51115dddd54de
        .e55ee44fee5d5d555555d515dddddde
        e454eeeefe45d55555555551dd4ddde.
        e5e4eefffe5dbbbbbbbbbbb15dddde..
        e5ee4eeff45db5555b555511dddde...
        e5eeeeffe5d5bd555b5555bbddde....
        e5ffefeee5d5bb455b5555dbd4e.....
        e5ffffffe5455b55bbd5d4dbee......
        e54efeff45d55b55b55ddddb........
        e5eeeffe5dd55bb545dddee.........
        e4eeefff5d5555b55ddde...........
        e4efefff5d5d55b55d4e............
        .e4efffe5d555555dee.............
        .e54eeee5d545dd4e...............
        ..e554ee5dddddee................
        ...ee5544dddee..................
        .....eeeeeee....................
        ................................
        `, SpriteKind.Player))
    mp.getPlayerSprite(mp.playerSelector(mp.PlayerNumber.Two)).setPosition(120, 90)
})
bundles.wrap3(function () {
    arrow_list = [
    assets.image`0`,
    assets.image`1`,
    img`
        ........cc........
        .......c99c.......
        .......c999c......
        .......c9999c.....
        ........c9999c....
        .........99999c...
        ..cccccccc99999c..
        .999999999999999c.
        99999999999999999c
        c9999999999999999c
        .c99999999999999c.
        ..cccc9999c99999..
        .........c9999c...
        ........c9999c....
        .......c9999c.....
        .......c999c......
        .......c99c.......
        ........cc........
        `,
    assets.image`3`
    ]
    arrow = sprites.create(img`
        . 
        `, SpriteKind.Player)
    arrow.setPosition(80, 30)
})
bundles.wrap4(function () {
    game.splash("Be the fastest to match ", "arrow directions to win!")
    carnival.startCountdownGame(15, carnival.WinTypes.Multi)
    music.playSoundEffect(music.createSoundEffect(WaveShape.Triangle, 4667, 4783, 255, 0, 449, SoundExpressionEffect.None, InterpolationCurve.Curve), SoundExpressionPlayMode.UntilDone)
})
game.onUpdateInterval(500, function () {
    arrow.setImage(arrow_list._pickRandom())
})
